@import "tailwindcss";

@source "../../**/*.{vue,ts}";
@source "../../../server/**/*.ts";
@source "../../../shared/**/*.ts";

@theme {
  /* FONTS */
  --font-display: 'Alfa Slab One', 'Georgia', serif;
  --font-heading: 'Josefin Slab', 'Georgia', serif;
  --font-body:    'Lato', system-ui, -apple-system, sans-serif;
  --font-chalk:   'Caveat', cursive;
  --font-mono:    ui-monospace, 'Courier New', monospace;

  /* COLORS — Brand Core */
  --color-brown:          #8B4513;
  --color-brown-dark:     #5c2d0e;
  --color-brown-mid:      #654321;
  --color-orange:         #ff6b35;
  --color-orange-hover:   #e85d29;

  /* COLORS — Physical Brand (from booth + logo) */
  --color-barn-red:       #9B1B1B;
  --color-straw:          #C9A84C;
  --color-denim:          #3B6EA5;
  --color-pine-wood:      #C8892A;
  --color-chalkboard:     #1C1C1C;
  --color-chalk-white:    #F2F0EB;

  /* COLORS — Surfaces */
  --color-cream:          #f8f6f0;
  --color-cream-dark:     #ede9df;
  --color-cream-warm:     #f4e4bc;

  /* COLORS — Text */
  --color-text:           #2d1a0e;
  --color-text-muted:     #6b5a4e;
  --color-text-inverse:   #ffffff;

  /* COLORS — Semantic */
  --color-success:        #2d7d46;
  --color-success-light:  #e8f5ed;
  --color-error:          #c0392b;
  --color-error-light:    #fdf0ee;
  --color-warning:        #b7791f;
  --color-warning-light:  #fef3c7;

  /* COLORS — UI */
  --color-border:         #d9cfc4;
  --color-border-strong:  #b5a89a;
  --color-focus:          #8B4513;

  /* FONT SIZES */
  --font-size-xs:      0.75rem;
  --font-size-sm:      0.875rem;
  --font-size-base:    1rem;
  --font-size-lg:      1.125rem;
  --font-size-xl:      1.375rem;
  --font-size-2xl:     1.75rem;
  --font-size-3xl:     2.25rem;
  --font-size-4xl:     2.75rem;
  --font-size-5xl:     3.5rem;
  --font-size-display: 4.5rem;

  /* LINE HEIGHTS */
  --line-height-tight:   1.25;
  --line-height-snug:    1.4;
  --line-height-base:    1.7;
  --line-height-relaxed: 1.8;

  /* LETTER SPACING */
  --letter-spacing-tight:  -0.02em;
  --letter-spacing-normal:  0em;
  --letter-spacing-wide:    0.04em;
  --letter-spacing-wider:   0.08em;

  /* SPACING (4px grid) */
  --spacing-0:   0;
  --spacing-1:   0.25rem;
  --spacing-2:   0.5rem;
  --spacing-3:   0.75rem;
  --spacing-4:   1rem;
  --spacing-5:   1.25rem;
  --spacing-6:   1.5rem;
  --spacing-8:   2rem;
  --spacing-10:  2.5rem;
  --spacing-12:  3rem;
  --spacing-16:  4rem;
  --spacing-20:  5rem;
  --spacing-24:  6rem;
  --spacing-32:  8rem;

  /* BORDER RADIUS */
  --radius-sm:   4px;
  --radius-md:   8px;
  --radius-lg:   12px;
  --radius-xl:   16px;
  --radius-2xl:  24px;
  --radius-full: 9999px;

  /* SHADOWS — warm-tinted (not gray) */
  --shadow-sm:   0 1px 3px rgba(45, 26, 14, 0.08);
  --shadow-md:   0 4px 12px rgba(45, 26, 14, 0.10);
  --shadow-lg:   0 8px 24px rgba(45, 26, 14, 0.12);
  --shadow-xl:   0 16px 48px rgba(45, 26, 14, 0.15);

  /* TRANSITIONS */
  --duration-quick:    150ms;
  --duration-base:     250ms;
  --duration-moderate: 350ms;
  --duration-slow:     500ms;
  --ease-out:   cubic-bezier(0.0, 0.0, 0.2, 1);
  --ease-in:    cubic-bezier(0.4, 0.0, 1.0, 1);
  --ease-inout: cubic-bezier(0.4, 0.0, 0.2, 1);

  /* LAYOUT */
  --container-sm:  42rem;
  --container-md:  48rem;
  --container-lg:  72rem;
  --container-xl:  80rem;

  /* Z-INDEX */
  --z-base:    0;
  --z-raised:  10;
  --z-sticky:  100;
  --z-drawer:  200;
  --z-dialog:  300;
  --z-toast:   400;

  /* GRADIENTS */
  --gradient-product: linear-gradient(135deg, #f4e4bc 0%, #C8892A 60%, #8B4513 100%);
  --gradient-hero:    linear-gradient(135deg, #8B4513 0%, #C8892A 100%);
  --gradient-barn:    linear-gradient(135deg, #9B1B1B 0%, #5c2d0e 100%);
}

/* Component-level custom properties */
:root {
  --header-height: 64px;
  --drawer-width:  400px;
  --touch-target:  48px;
}

/* ─── Base styles ──────────────────────────────── */
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  background-color: var(--color-cream);
  color: var(--color-text);
  font-family: var(--font-body);
  line-height: var(--line-height-base);
  -webkit-font-smoothing: antialiased;
}

/* Focus visible — WCAG 2.1 AA */
:focus-visible {
  outline: 3px solid var(--color-focus);
  outline-offset: 2px;
}

/* Typography hierarchy */
h1, .h1 {
  font-family: var(--font-display);
  font-weight: 400;
  line-height: var(--line-height-tight);
}

h2, h3, .h2, .h3 {
  font-family: var(--font-heading);
  font-weight: 700;
  line-height: var(--line-height-snug);
}

h4, h5, h6, .h4 {
  font-family: var(--font-body);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: var(--letter-spacing-wide);
}

/* Chalkboard UI pattern — for market schedule, callouts ONLY
   Do NOT use for: product cards, nav, forms, body copy */
.chalkboard {
  background: var(--color-chalkboard);
  color: var(--color-chalk-white);
  font-family: var(--font-chalk);
  border: 3px solid var(--color-pine-wood);
  border-radius: var(--radius-md);
}

/* ─── Cart drawer ──────────────────────────────── */
.cart-drawer {
  position: fixed;
  top: 0;
  right: 0;
  height: 100%;
  width: var(--drawer-width);
  max-width: 100vw;
  background: white;
  transform: translateX(100%);
  transition: transform var(--duration-moderate) var(--ease-out);
  z-index: var(--z-drawer);
  overflow-y: auto;
  box-shadow: var(--shadow-xl);
}

.cart-drawer.is-open {
  transform: translateX(0);
}

/* ─── Toast ────────────────────────────────────── */
.toast {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  z-index: var(--z-toast);
  opacity: 0;
  transform: translateY(0.75rem);
  transition: opacity var(--duration-base) var(--ease-out),
              transform var(--duration-base) var(--ease-out);
  pointer-events: none;
}

.toast.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* ─── FAQ accordion (grid trick for animated height) */
details > .accordion-body {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows var(--duration-moderate) var(--ease-out);
}

details[open] > .accordion-body {
  grid-template-rows: 1fr;
}

details > .accordion-body > * {
  overflow: hidden;
}

/* ─── Motion accessibility ─────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
